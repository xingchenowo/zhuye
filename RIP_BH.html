<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RIP白灰</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置Tailwind自定义主题 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            dark: '#121212',
            light: '#f5f5f5',
            gold: '#d4af37',
          },
          fontFamily: {
            serif: ['Georgia', 'Cambria', 'serif'],
          },
        },
      }
    }
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }
      .candle-glow {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.3), 
                    0 0 40px rgba(255, 255, 255, 0.2),
                    0 0 60px rgba(255, 255, 255, 0.1);
      }
      .flame-flicker {
        animation: flicker 1.5s infinite alternate;
      }
      @keyframes flicker {
        0% { transform: scaleY(0.95) scaleX(0.98); opacity: 0.9; }
        100% { transform: scaleY(1.05) scaleX(1.02); opacity: 1; }
      }
      .image-gold-preserve {
        filter: grayscale(80%) contrast(1.1);
      }
      .music-btn {
        transition: all 0.3s ease;
      }
      .music-btn:hover {
        transform: scale(1.1);
        color: #d4af37;
      }
    }
  </style>
</head>
<body class="bg-dark text-light min-h-screen flex flex-col items-center justify-center p-4 font-serif">
  <!-- 页面容器 -->
  <div class="max-w-4xl w-full text-center space-y-8 animate-fadeIn">
    
    <!-- 头像区域 -->
    <div class="relative mx-auto w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-2 border-gray-700 shadow-lg">
      <img src="白灰.jpg"
           alt="白灰" 
           class="w-full h-full object-cover image-gold-preserve transition-all duration-1000">
      <div class="absolute inset-0 bg-gradient-to-t from-dark/60 to-transparent"></div>
    </div>
    
    <!-- 标题区域 -->
    <div class="space-y-2">
      <h1 class="text-[clamp(1.8rem,5vw,2.5rem)] font-light tracking-wide">白灰</h1>
      <div class="h-px w-24 bg-gray-600 mx-auto"></div>
    </div>
    
    <!-- 纪念文案 -->
    <div class="text-gray-300 space-y-4 text-[clamp(1rem,3vw,1.2rem)] leading-relaxed max-w-md mx-auto">
      <p>感谢白灰曾经的陪伴</p>
      <p>我们会永远铭记你</p>
      <p class="font-light italic opacity-80">R.I.P.</p>
      <p>愿你那边过得平安</p>
    </div>
    
    <!-- 蜡烛区域 -->
    <div class="flex justify-center my-8">
      <div id="candle" class="flex flex-col items-center cursor-pointer transition-all duration-1000">
        <!-- 火焰 (默认隐藏) -->
        <div id="flame" class="hidden w-4 h-8 bg-gradient-to-b from-white via-gray-100 to-gray-200 rounded-t-full flame-flicker mb-1"></div>
        
        <!-- 烛芯 -->
        <div class="w-1 h-3 bg-gray-600 mb-1"></div>
        
        <!-- 烛身 -->
        <div class="w-10 h-20 bg-gray-200 rounded-md flex flex-col items-center pt-4">
          <div class="w-8 h-1 bg-gray-300 rounded-full mb-2"></div>
          <div class="w-6 h-1 bg-gray-300 rounded-full"></div>
        </div>
        
        <!-- 烛台 -->
        <div class="w-12 h-2 bg-gray-400 rounded-md mt-1"></div>
      </div>
    </div>
    
    <!-- 音乐控制按钮（简洁样式） -->
    <div class="flex justify-center items-center space-x-6 my-4">
      <button id="prevBtn" class="music-btn text-gray-400 hover:text-gold" title="上一首">
        <i class="fa fa-step-backward text-xl"></i>
      </button>
      <button id="playPauseBtn" class="music-btn text-gray-300 hover:text-gold" title="播放/暂停">
        <i class="fa fa-pause text-2xl"></i>
      </button>
      <button id="nextBtn" class="music-btn text-gray-400 hover:text-gold" title="下一首">
        <i class="fa fa-step-forward text-xl"></i>
      </button>
    </div>
    
    <!-- 隐藏的网易云音乐播放器（自动播放） -->
    <div class="hidden">
      <iframe 
        id="musicPlayer"
        src="https://music.163.com/outchain/player?type=0&id=17400911760&auto=1&height=0" 
        width="0" 
        height="0" 
        frameborder="0"
        allowtransparency="true" 
        allowfullscreen>
      </iframe>
    </div>
    
    <!-- 底部说明（已删除"音乐承载回忆"） -->
    <div class="text-gray-500 text-sm mt-4">
      <p>点击蜡烛点燃永恒的思念</p>
    </div>
  </div>
  
  <!-- 背景装饰 -->
  <div class="fixed inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.05)_0%,transparent_70%)] pointer-events-none"></div>
  
  <!-- 交互脚本 -->
  <script>
    // 蜡烛交互
    const candle = document.getElementById('candle');
    const flame = document.getElementById('flame');
    let isLit = false;
    
    candle.addEventListener('click', () => {
      if (!isLit) {
        flame.classList.remove('hidden');
        candle.classList.add('candle-glow');
        flame.style.opacity = '0';
        setTimeout(() => {
          flame.style.transition = 'opacity 0.8s ease';
          flame.style.opacity = '1';
        }, 50);
        isLit = true;
        candle.style.cursor = 'default';
      }
    });
    
    // 页面载入动画
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.querySelector('.animate-fadeIn');
      container.style.opacity = '0';
      container.style.transform = 'translateY(20px)';
      container.style.transition = 'opacity 1.2s ease, transform 1.2s ease';
      
      setTimeout(() => {
        container.style.opacity = '1';
        container.style.transform = 'translateY(0)';
      }, 300);
    });
    
    // 音乐控制（通过postMessage与iframe通信）
    const musicPlayer = document.getElementById('musicPlayer');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    let isPlaying = true; // 初始自动播放，标记为播放中
    
    // 发送控制指令到播放器
    const sendMusicCommand = (command) => {
      if (musicPlayer.contentWindow) {
        musicPlayer.contentWindow.postMessage(
          {
            type: 'command',
            command: command
          },
          'https://music.163.com'
        );
      }
    };
    
    // 播放/暂停切换
    playPauseBtn.addEventListener('click', () => {
      if (isPlaying) {
        sendMusicCommand('pause');
        playPauseBtn.innerHTML = '<i class="fa fa-play text-2xl"></i>';
      } else {
        sendMusicCommand('play');
        playPauseBtn.innerHTML = '<i class="fa fa-pause text-2xl"></i>';
      }
      isPlaying = !isPlaying;
    });
    
    // 上一首
    prevBtn.addEventListener('click', () => {
      sendMusicCommand('prev');
    });
    
    // 下一首
    nextBtn.addEventListener('click', () => {
      sendMusicCommand('next');
    });
    
    // 监听播放器消息（可选，用于同步播放状态）
    window.addEventListener('message', (e) => {
      if (e.origin === 'https://music.163.com' && e.data.type === 'playerState') {
        isPlaying = e.data.isPlaying;
        playPauseBtn.innerHTML = isPlaying 
          ? '<i class="fa fa-pause text-2xl"></i>' 
          : '<i class="fa fa-play text-2xl"></i>';
      }
    });
  </script>
</body>
</html>
