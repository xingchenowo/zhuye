<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>纪念白灰</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置Tailwind自定义主题 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            dark: '#121212',
            light: '#f5f5f5',
            gold: '#d4af37',
          },
          fontFamily: {
            serif: ['Georgia', 'Cambria', 'serif'],
          },
        },
      }
    }
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }
      .candle-glow {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.3), 
                    0 0 40px rgba(255, 255, 255, 0.2),
                    0 0 60px rgba(255, 255, 255, 0.1);
      }
      .flame-flicker {
        animation: flicker 1.5s infinite alternate;
      }
      @keyframes flicker {
        0% { transform: scaleY(0.95) scaleX(0.98); opacity: 0.9; }
        100% { transform: scaleY(1.05) scaleX(1.02); opacity: 1; }
      }
      .image-gold-preserve {
        filter: grayscale(80%) contrast(1.1);
      }
      .audio-control {
        background-color: rgba(30, 30, 30, 0.7);
        border: 1px solid rgba(100, 100, 100, 0.3);
        transition: all 0.3s ease;
      }
      .audio-control:hover {
        border-color: rgba(212, 175, 55, 0.5);
        box-shadow: 0 0 15px rgba(212, 175, 55, 0.1);
      }
      .control-btn {
        transition: all 0.2s ease;
      }
      .control-btn:hover {
        color: #d4af37;
        transform: scale(1.1);
      }
    }
  </style>
</head>
<body class="bg-dark text-light min-h-screen flex flex-col items-center justify-center p-4 font-serif">
  <!-- 页面容器 -->
  <div class="max-w-4xl w-full text-center space-y-8 animate-fadeIn">
    
    <!-- 头像区域 -->
    <div class="relative mx-auto w-64 h-64 md:w-80 md:h-80 rounded-full overflow-hidden border-2 border-gray-700 shadow-lg">
      <img src="https://p3-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/da4c2879e72b4432948c11bec470e44c.jpg~tplv-a9rns2rl98-24:720:720.image?rcl=20251105225013E93C9408403162C86B89&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1762959013&x-signature=p0LOF3odTCl4qM4I8nNGZQbAh2Q%3D" 
           alt="白灰" 
           class="w-full h-full object-cover image-gold-preserve transition-all duration-1000">
      <div class="absolute inset-0 bg-gradient-to-t from-dark/60 to-transparent"></div>
    </div>
    
    <!-- 标题区域 -->
    <div class="space-y-2">
      <h1 class="text-[clamp(1.8rem,5vw,2.5rem)] font-light tracking-wide">白灰</h1>
      <div class="h-px w-24 bg-gray-600 mx-auto"></div>
    </div>
    
    <!-- 纪念文案 -->
    <div class="text-gray-300 space-y-4 text-[clamp(1rem,3vw,1.2rem)] leading-relaxed max-w-md mx-auto">
      <p>感谢白灰曾经的陪伴</p>
      <p>我们会永远铭记你</p>
      <p class="font-light italic opacity-80">R.I.P.</p>
      <p>愿你那边过得平安</p>
    </div>
    
    <!-- 蜡烛区域 -->
    <div class="flex justify-center my-8">
      <div id="candle" class="flex flex-col items-center cursor-pointer transition-all duration-1000">
        <!-- 火焰 (默认隐藏) -->
        <div id="flame" class="hidden w-4 h-8 bg-gradient-to-b from-white via-gray-100 to-gray-200 rounded-t-full flame-flicker mb-1"></div>
        
        <!-- 烛芯 -->
        <div class="w-1 h-3 bg-gray-600 mb-1"></div>
        
        <!-- 烛身 -->
        <div class="w-10 h-20 bg-gray-200 rounded-md flex flex-col items-center pt-4">
          <div class="w-8 h-1 bg-gray-300 rounded-full mb-2"></div>
          <div class="w-6 h-1 bg-gray-300 rounded-full"></div>
        </div>
        
        <!-- 烛台 -->
        <div class="w-12 h-2 bg-gray-400 rounded-md mt-1"></div>
      </div>
    </div>
    
    <!-- 原生音频播放器（自定义样式，稳定无依赖） -->
    <div class="audio-control rounded-lg p-4 max-w-xs mx-auto flex items-center justify-between">
      <!-- 上一首 -->
      <button id="prevBtn" class="control-btn text-gray-400" title="上一首">
        <i class="fa fa-step-backward text-xl"></i>
      </button>
      
      <!-- 播放/暂停 -->
      <button id="playPauseBtn" class="control-btn text-gray-300" title="播放/暂停">
        <i class="fa fa-pause text-2xl"></i>
      </button>
      
      <!-- 下一首 -->
      <button id="nextBtn" class="control-btn text-gray-400" title="下一首">
        <i class="fa fa-step-forward text-xl"></i>
      </button>
      
      <!-- 音量控制 -->
      <button id="volumeBtn" class="control-btn text-gray-400" title="静音/取消静音">
        <i class="fa fa-volume-up text-xl"></i>
      </button>
    </div>
    
    <!-- 底部说明 -->
    <div class="text-gray-500 text-sm mt-4">
      <p>点击蜡烛点燃永恒的思念</p>
    </div>
  </div>
  
  <!-- 背景装饰 -->
  <div class="fixed inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.05)_0%,transparent_70%)] pointer-events-none"></div>
  
  <!-- 原生音频元素（隐藏，通过JS控制） -->
  <audio id="audioPlayer" loop preload="auto">
    <!-- 以下为歌单中的歌曲示例（替换为实际可访问的音频链接） -->
    <!-- 若需使用自己的歌单歌曲，可通过网易云音乐API获取歌曲播放链接，或替换为其他可靠音频源 -->
    <source src="https://example.com/song1.mp3" type="audio/mpeg">
    <source src="https://example.com/song2.mp3" type="audio/mpeg">
    <source src="https://example.com/song3.mp3" type="audio/mpeg">
    您的浏览器不支持音频播放
  </audio>
  
  <!-- 交互脚本 -->
  <script>
    // 蜡烛交互
    const candle = document.getElementById('candle');
    const flame = document.getElementById('flame');
    let isLit = false;
    
    candle.addEventListener('click', () => {
      if (!isLit) {
        flame.classList.remove('hidden');
        candle.classList.add('candle-glow');
        flame.style.opacity = '0';
        setTimeout(() => {
          flame.style.transition = 'opacity 0.8s ease';
          flame.style.opacity = '1';
        }, 50);
        isLit = true;
        candle.style.cursor = 'default';
      }
    });
    
    // 页面载入动画
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.querySelector('.animate-fadeIn');
      container.style.opacity = '0';
      container.style.transform = 'translateY(20px)';
      container.style.transition = 'opacity 1.2s ease, transform 1.2s ease';
      
      setTimeout(() => {
        container.style.opacity = '1';
        container.style.transform = 'translateY(0)';
        // 页面加载完成后自动播放音频
        audioPlayer.play().catch(err => {
          // 若浏览器阻止自动播放，切换为暂停状态
          isPlaying = false;
          playPauseBtn.innerHTML = '<i class="fa fa-play text-2xl"></i>';
          console.log('自动播放被阻止，请手动点击播放按钮', err);
        });
      }, 300);
    });
    
    // 音频控制核心逻辑（原生audio，无依赖）
    const audioPlayer = document.getElementById('audioPlayer');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const volumeBtn = document.getElementById('volumeBtn');
    let isPlaying = true;
    let isMuted = false;
    
    // 播放/暂停切换
    playPauseBtn.addEventListener('click', () => {
      if (isPlaying) {
        audioPlayer.pause();
        playPauseBtn.innerHTML = '<i class="fa fa-play text-2xl"></i>';
      } else {
        audioPlayer.play();
        playPauseBtn.innerHTML = '<i class="fa fa-pause text-2xl"></i>';
      }
      isPlaying = !isPlaying;
    });
    
    // 静音/取消静音
    volumeBtn.addEventListener('click', () => {
      audioPlayer.muted = !audioPlayer.muted;
      isMuted = audioPlayer.muted;
      volumeBtn.innerHTML = isMuted 
        ? '<i class="fa fa-volume-off text-xl"></i>' 
        : '<i class="fa fa-volume-up text-xl"></i>';
    });
    
    // 上一首（循环播放）
    prevBtn.addEventListener('click', () => {
      // 若当前播放时间超过3秒，回到歌曲开头；否则切换到上一首
      if (audioPlayer.currentTime > 3) {
        audioPlayer.currentTime = 0;
      } else {
        // 这里需要根据实际歌曲列表实现上一首逻辑
        // 示例：假设只有3首歌，循环切换
        const currentSrc = audioPlayer.currentSrc;
        const sources = Array.from(audioPlayer.children).map(s => s.src);
        const currentIndex = sources.findIndex(s => s === currentSrc);
        const prevIndex = (currentIndex - 1 + sources.length) % sources.length;
        audioPlayer.src = sources[prevIndex];
        audioPlayer.play();
      }
    });
    
    // 下一首（循环播放）
    nextBtn.addEventListener('click', () => {
      // 示例：假设只有3首歌，循环切换
      const currentSrc = audioPlayer.currentSrc;
      const sources = Array.from(audioPlayer.children).map(s => s.src);
      const currentIndex = sources.findIndex(s => s === currentSrc);
      const nextIndex = (currentIndex + 1) % sources.length;
      audioPlayer.src = sources[nextIndex];
      audioPlayer.play();
    });
    
    // 监听音频播放状态
    audioPlayer.addEventListener('play', () => {
      isPlaying = true;
      playPauseBtn.innerHTML = '<i class="fa fa-pause text-2xl"></i>';
    });
    
    audioPlayer.addEventListener('pause', () => {
      isPlaying = false;
      playPauseBtn.innerHTML = '<i class="fa fa-play text-2xl"></i>';
    });
    
    // 音频播放结束自动切换下一首
    audioPlayer.addEventListener('ended', () => {
      nextBtn.click();
    });
  </script>
</body>
</html>
